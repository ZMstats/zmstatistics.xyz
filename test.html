<!DOCTYPE html>
<html>
<head>
  <title>Channel Search</title>
  <style>
  body {
      font-family: 'Roboto', sans-serif;
      font-weight: bold;
      margin: 0;
      padding: 0;
      background-color: #222;
      color: #fff;
    }
    .container {
      width: 80%;
      margin: 20px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #ffffff;
      font-size: 36px;
    }
    input[type="text"] {
      width: 60%;
      padding: 12px;
      font-size: 18px;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-family: 'Roboto', sans-serif;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      transition: background-color 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    button:hover {
      background-color: #45a049;
    }
    button::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 150%;
      height: 150%;
      background: radial-gradient(circle, transparent 0%, rgba(255, 255, 255, 0.2) 80%, rgba(255, 255, 255, 0.2) 100%);
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.5s ease;
      border-radius: 50%;
    }
    button:active::before {
      transform: translate(-50%, -50%) scale(3);
      transition: transform 0.5s ease;
    }
    button.loading::after {
      content: "";
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.4);
      border-radius: 50%;
      border-top-color: #fff;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }
    #results {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .channel {
      width: 1200px;
      height: 600px;
      border: 1px solid #555;
      padding: 20px;
      margin: 10px;
      background-color: #333;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .channel img {
      max-width: 200px;
      max-height: 300px;
      height: auto;
      margin-bottom: 20px;
      border-radius: 10%;
    }
    .subscriber-count {
      font-size: 80px;
      margin-bottom: 20px;
      color: #ffffff;
    }
    .subscriber-label {
      font-size: 18px;
      color: #fff;
    }
    .channel p {
      font-size: 24px;
      margin: 0;
      color: #ccc;
    }
    .no-results {
      text-align: center;
      color: #ccc;
      font-size: 24px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Channel Search</h1>
    <!-- Your existing input, button, and results elements -->
    <input type="text" id="searchInput" placeholder="Search channel by name">
    <button onclick="searchChannel()" id="searchButton">Search</button>
    <div id="results"></div>
  </div>

  <!-- Include Odometer.js -->
  <script src="odometer.js"></script>

  <script>
    function searchChannel() {
      const searchQuery = document.getElementById('searchInput').value.toLowerCase();
      const searchButton = document.getElementById('searchButton');
      searchButton.classList.add('loading');

      fetch('https://validbubblybackslash.borisplayz.repl.co/')
        .then(response => response.json())
        .then(data => {
          const results = data.filter(channel => channel.cname.toLowerCase().includes(searchQuery));
          displayResults(results);
          searchButton.classList.remove('loading');
        })
        .catch(error => {
          console.error('Error fetching data:', error);
          searchButton.classList.remove('loading');
        });
    }

    function displayResults(results) {
      const resultsContainer = document.getElementById('results');
      resultsContainer.innerHTML = '';

      if (results.length === 0) {
        resultsContainer.innerHTML = '<p class="no-results">No results found.</p>';
        return;
      }

      results.forEach(channel => {
        const channelDiv = document.createElement('div');
        channelDiv.classList.add('channel');

        const channelImage = document.createElement('img');
        channelImage.src = channel.cimage;
        channelImage.alt = channel.cname;

        const subscriberCount = document.createElement('div');
        subscriberCount.classList.add('odometer'); // Use Odometer class
        subscriberCount.textContent = '0'; // Initial value

        const subscriberLabel = document.createElement('div');
        subscriberLabel.classList.add('subscriber-label');
        subscriberLabel.textContent = 'Subscribers:';

        channelDiv.appendChild(channelImage);
        channelDiv.appendChild(subscriberCount);
        channelDiv.appendChild(subscriberLabel);

        resultsContainer.appendChild(channelDiv);

        // Odometer initialization
        setTimeout(() => { // Ensure the element is rendered before initializing Odometer
          const odometer = new Odometer({
            el: subscriberCount,
            value: 0, // Initial value
            format: '(,ddd)', // Odometer formatting options
          });
          odometer.update(channel.subscriberCountRealEst); // Update with actual subscriber count
        }, 0);
      });
    }
  </script>
</body>
</html>
